<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
		<title>Drag and drop</title>
		<script src="script.js"></script>
		<style>
		</style>
		<script>
		 DragManager.onDragCancel = function(dragObject) {
			var carId = dragObject.elem.getAttribute("whichCar");
			dragObject.elem.setAttribute("whichCar", "");
			if( carId == "" )
				return;
			var car = document.getElementById(carId);
			var count = car.getAttribute( "occupiedSeats" );
			count--;
			car.setAttribute( "occupiedSeats", count );
			dragObject.elem.classList.remove('inside');
		};

		DragManager.onDragEnd = function(dragObject, dropElem) {
		  var carId = dragObject.elem.getAttribute("whichCar");
		  if( carId == dropElem.id )
			return;
		  if( carId != "" )
		  {
			var car = document.getElementById(carId);
			var count = car.getAttribute( "occupiedSeats" );
			count--;
			dragObject.elem.classList.remove('inside');
			car.setAttribute( "occupiedSeats", count );
		  }
		  var seats = dropElem.getAttribute( "occupiedSeats" );
		  dragObject.elem.classList.add('inside');
		  seats++;
		  dropElem.setAttribute( "occupiedSeats", seats );
		  dragObject.elem.setAttribute("whichCar", dropElem.id);
		};
		</script>
		<link href="slider.css" rel="stylesheet">
	</head>
	<body>
	<!--
	<div id="slideout">
	  <img alt="Добавить человека" />
	  <div id="slideout_inner">
<input type="file" id="files" name="files[]" onchange="handleFileSelect(event)" multiple />
<output id="list"></output>-->
	<input type="file" id="files" name="files[]" onchange="handleFileSelect(event)" multiple />
	<output id="list"></output>

	<div id="dragObjects">
		<img src="img/people/bread.png" class="draggable" id="human" whichCar=""/>
	</div >
	<img src="img/car/car 2.png" id="carOne" class="droppable" occupiedSeats="0"/>
	<img src="img/car/car.jpg" id="carTwo" class="droppable" occupiedSeats="0"/>
	</body>
</html>