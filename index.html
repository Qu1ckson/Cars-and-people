<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
		<title>Drag and drop</title>
		<script src="script.js"></script>
		<style>
		</style>
		<script>
		 DragManager.onDragCancel = function(dragObject) {
			var carId = dragObject.elem.getAttribute("whichCar");
			dragObject.elem.setAttribute("whichCar", "");
			if( carId == "" )
				return;
			var car = document.getElementById(carId);
			var count = car.getAttribute( "occupiedSeats" );
			count--;
			car.setAttribute( "occupiedSeats", count );
			dragObject.elem.classList.remove('inside');
			dragObject.elem.classList.remove('insideFull');
			handlerLeavePeople( carId );
		};

		DragManager.onDragEnd = function(dragObject, dropElem) {
		  var carId = dragObject.elem.getAttribute("whichCar");
		  if( carId == dropElem.id )
			return;
		  if( carId != "" )
		  {
			var car = document.getElementById(carId);
			var count = car.getAttribute( "occupiedSeats" );
			count--;
			dragObject.elem.classList.remove('inside');
			car.setAttribute( "occupiedSeats", count );
			handlerLeavePeople( carId );
		  }
		  var seats = dropElem.getAttribute( "occupiedSeats" );
		  seats++;
		  if( seats > 5 )
			dragObject.elem.classList.add('insideFull');
		  else
			dragObject.elem.classList.add('inside');
		  
		  dropElem.setAttribute( "occupiedSeats", seats );
		  dragObject.elem.setAttribute("whichCar", dropElem.id);
		};
		</script>
		<link href="style.css" rel="stylesheet">
	</head>
	<body>
	<div>
		<div style="position: absolute;">
			<img src="img/car/car 2.png" id="carOne" occupiedSeats="0"/>
			<img id="seat1" src="img/seat.png" class="droppable"/>
			<img id="seat2" src="img/seat.png" class="droppable"/>
			<img id="seat3" src="img/seat.png" class="droppable"/>
			<img id="seat4" src="img/seat.png" class="droppable"/>
			<img src="img/car/car.jpg" id="carTwo" occupiedSeats="0"/>
			<img id="seat21" src="img/seat.png" class="droppable"/>
			<img id="seat22" src="img/seat.png" class="droppable"/>
			<img id="seat23" src="img/seat.png" class="droppable"/>
			<img id="seat24" src="img/seat.png" class="droppable"/>
		</div>
	</div>
	<div class="blockPeople">
		
		<p>Имя <input id="firstName" class="inpuStyle" type="text" onchange="handleOnChange(this)" onpaste="return onPaste(event, this)" onkeypress="return onKeyPressEvent(event,this)" value=""/></p>
		<p>Фамилия <input id="lastName" class="inpuStyle" type="text" onchange="handleOnChange(this)" onpaste="return onPa onkeypress="return onKeyPressEvent(event,this)" value=""/></p>
		<p>Картинка <input type="file" id="files" name="files[]" onchange="handleFileSelect(event)" multiple /></p>
		<button style="position:absolute; left:220px" onclick="handleAddImg()">Добавить</button>
		 <div id="floatTip"></div>
		<div id="dragObjects">
			<output id="list"></output>
		</div>
	</div>
	</body>
</html>